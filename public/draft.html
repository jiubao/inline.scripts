<!doctype html>
<html>
<head>
<style>

.h{display:none;}
*{padding:0;margin:0}
#head, #body, #foot, #d1 {border: solid #000 5px; padding: 2px; margin: 3px;}
#head{height: 40px; background: #ccc; }
#body{height: 300px; background: #eee; overflow: scroll;}
#foot{height: 40px; background: #ccc;}
#d1{height: 500px; background: #f6f6f6;}

</style>
</head>

<body>
<form name="iupload" style="display:none;">
限制：<input type="text" size="4" value="10" name="fileSizeLimit" id="fileSizeLimit"/> K
<input type="file" name="file1" id="file1" size="40" onchange="changeSrc(this)"/>
<img src="about:blank" id="fileChecker" alt="test"  height="18"/>

<input type="button" value="try" onclick="check2()"/>
</form>

<script type="text/javascript">
var oFileChecker = document.getElementById("fileChecker");

function changeSrc(filePicker)
{
    oFileChecker.src = filePicker.value;
}

//oFileChecker.onreadystatechange = function ()
oFileChecker.onload = function ()
{
    if (oFileChecker.readyState == "complete")
    {
        checkSize();
    }
}

function checkSize()
{
    var limit  = document.getElementById("fileSizeLimit").value * 1024;

    if (oFileChecker.fileSize > limit)
    {
        alert("too large");
    }
    else
    {
        alert("ok");
    }
}

function check2() {
	var v1 = document.iupload.picsrc.value;
	alert('a');
}
</script>

<div style="width: 100px; height: 100px; margin: 20px; background: gold;" class="h"></div>
<div style="width: 100px; height: 100px; margin: 80px; background: blue;" class="h"></div>

<div id="head"></div>
<div id="body">
    <div id="d1"></div>
</div>
<div id="foot"></div>
</body>

<script type="text/javascript">
var d1 = document.getElementById('d1');
var head = document.getElementById('head');
var body = document.getElementById('body');
var foot = document.getElementById('foot');

d1.onclick = function() {

	rect();
	showScrollTop();
	showScrollHeight();
	showClientHeight();
	showClientTop();
};

function rect() {
	console.log("getBoundingClientRect top:");
	console.log('d1:' + d1.getBoundingClientRect().top);
	console.log('head:' + head.getBoundingClientRect().top);
	console.log('body:' + body.getBoundingClientRect().top);
	console.log('foot:' + foot.getBoundingClientRect().top);
	console.log('');
}

function showScrollTop() {
	console.log('scroll top:');
	console.log('d1:' + d1.scrollTop);
	console.log('head:' + head.scrollTop);
	console.log('body:' + body.scrollTop);
	console.log('foot:' + foot.scrollTop);
	console.log('');
}

function showScrollHeight() {
	console.log('scroll height:');
	console.log('d1:' + d1.scrollHeight);
	console.log('head:' + head.scrollHeight);
	console.log('body:' + body.scrollHeight);
	console.log('foot:' + foot.scrollHeight);
	console.log('');
}

function showClientHeight() {
	console.log('client height:');
	console.log('d1:' + d1.clientHeight);
	console.log('head:' + head.clientHeight);
	console.log('body:' + body.clientHeight);
	console.log('foot:' + foot.clientHeight);
	console.log('');
}

function showClientTop() {
	console.log('client top:');
	console.log('d1:' + d1.clientTop);
	console.log('head:' + head.clientTop);
	console.log('body:' + body.clientTop);
	console.log('foot:' + foot.clientTop);
	console.log('');
}

</script>

</html>